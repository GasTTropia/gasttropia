var Editor=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){t.exports=UIkit.util},function(t,e,i){"use strict";i.r(e);var a=i(0);function n(t,e,i,a,n,o,r,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=s?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}var o=n({name:"ImagePicker",data:function(){return{image:{data:{src:"",alt:""}}}},mounted:function(){this.$refs.modal.open()},methods:{selected:function(t){if(t&&!this.image.data.alt){var e=t.split("/").slice(-1)[0].replace(/\.(jpeg|jpg|png|svg|gif)$/i,"").replace(/(_|-)/g," ").trim(),i=e.charAt(0).toUpperCase();this.image.data.alt=i+e.substr(1)}},close:function(){this.$destroy(!0)},update:function(){this.$emit("select",this.image),this.$refs.modal.close()}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-modal",{ref:"modal",attrs:{closed:t.close}},[i("form",{staticClass:" uk-form-stacked",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[i("div",{staticClass:"uk-modal-header"},[i("h2",{staticClass:"uk-h4"},[i("span",{attrs:{"uk-icon":"image",ratio:"1.1"}}),i("span",{staticClass:"uk-text-middle uk-margin-small-left"},[t._v(t._s(t._f("trans")("Image")))])])]),t._v(" "),i("div",{staticClass:"uk-modal-body"},[i("div",{staticClass:"uk-margin"},[i("input-image",{attrs:{"input-field":!1,"class-name":"uk-width-1-1"},on:{"image-selected":t.selected},model:{value:t.image.data.src,callback:function(e){t.$set(t.image.data,"src",e)},expression:"image.data.src"}})],1),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("URL")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.image.data.src,expression:"image.data.src"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-src",type:"text",lazy:""},domProps:{value:t.image.data.src},on:{input:function(e){e.target.composing||t.$set(t.image.data,"src",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-alt"}},[t._v(t._s(t._f("trans")("Alt")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.image.data.alt,expression:"image.data.alt"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-alt",type:"text"},domProps:{value:t.image.data.alt},on:{input:function(e){e.target.composing||t.$set(t.image.data,"alt",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-margin-right uk-modal-close",attrs:{type:"button"}},[t._v("\n                "+t._s(t._f("trans")("Cancel"))+"\n            ")]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t._f("trans")("Update"))+"\n            ")])])])])}),[],!1,null,null,null).exports,r=n({name:"VideoPicker",data:function(){return{video:{data:{src:"",controls:!0}}}},computed:{isYoutube:function(){return!!this.video.data.src&&this.video.data.src.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/)},isVimeo:function(){return!!this.video.data.src&&this.video.data.src.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)}},mounted:function(){this.$refs.modal.open()},methods:{close:function(){this.$destroy(!0)},update:function(){this.$emit("select",this.video),this.$refs.modal.close()}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-modal",{ref:"modal",attrs:{closed:t.close}},[i("form",{staticClass:" uk-form-stacked",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[i("div",{staticClass:"uk-modal-header"},[i("h2",{staticClass:"uk-h4"},[i("span",{attrs:{"uk-icon":"video",ratio:"1.1"}}),i("span",{staticClass:"uk-text-middle uk-margin-small-left"},[t._v(t._s(t._f("trans")("Video")))])])]),t._v(" "),i("div",{staticClass:"uk-modal-body"},[i("div",{staticClass:"uk-margin"},[i("input-video",{attrs:{"class-name":"uk-width-1-1"},model:{value:t.video.data.src,callback:function(e){t.$set(t.video.data,"src",e)},expression:"video.data.src"}})],1),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("URL")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.src,expression:"video.data.src"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-src",type:"text",debounce:"500"},domProps:{value:t.video.data.src},on:{input:function(e){e.target.composing||t.$set(t.video.data,"src",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-child-width-1-2@s uk-grid-small uk-flex-bottom",attrs:{"uk-grid":""}},[i("div",[i("div",{staticClass:"uk-child-width-1-2 uk-grid-small",attrs:{"uk-grid":""}},[i("div",[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("Width")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.width,expression:"video.data.width"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-width",type:"text",placeholder:t._f("trans")("auto")},domProps:{value:t.video.data.width},on:{input:function(e){e.target.composing||t.$set(t.video.data,"width",e.target.value)}}})]),t._v(" "),i("div",[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("Height")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.height,expression:"video.data.height"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-height",type:"text",disabled:!t.isVimeo&&!t.isYoutube,placeholder:t._f("trans")("auto")},domProps:{value:t.video.data.height},on:{input:function(e){e.target.composing||t.$set(t.video.data,"height",e.target.value)}}})])])]),t._v(" "),i("div",[i("div",{staticClass:"uk-child-width-1-2 uk-grid-small uk-text-small",attrs:{"uk-grid":""}},[i("div",{staticClass:"uk-text-nowrap uk-text-truncate"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.autoplay,expression:"video.data.autoplay"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.autoplay)?t._i(t.video.data.autoplay,null)>-1:t.video.data.autoplay},on:{change:function(e){var i=t.video.data.autoplay,a=e.target,n=!!a.checked;if(Array.isArray(i)){var o=t._i(i,null);a.checked?o<0&&t.$set(t.video.data,"autoplay",i.concat([null])):o>-1&&t.$set(t.video.data,"autoplay",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.video.data,"autoplay",n)}}}),t._v(" "+t._s(t._f("trans")("Autoplay")))]),i("br"),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!t.isVimeo,expression:"!isVimeo"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.controls,expression:"video.data.controls"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.controls)?t._i(t.video.data.controls,null)>-1:t.video.data.controls},on:{change:function(e){var i=t.video.data.controls,a=e.target,n=!!a.checked;if(Array.isArray(i)){var o=t._i(i,null);a.checked?o<0&&t.$set(t.video.data,"controls",i.concat([null])):o>-1&&t.$set(t.video.data,"controls",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.video.data,"controls",n)}}}),t._v(" "+t._s(t._f("trans")("Controls")))])]),t._v(" "),i("div",{staticClass:"uk-text-nowrap uk-text-truncate"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.loop,expression:"video.data.loop"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.loop)?t._i(t.video.data.loop,null)>-1:t.video.data.loop},on:{change:function(e){var i=t.video.data.loop,a=e.target,n=!!a.checked;if(Array.isArray(i)){var o=t._i(i,null);a.checked?o<0&&t.$set(t.video.data,"loop",i.concat([null])):o>-1&&t.$set(t.video.data,"loop",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.video.data,"loop",n)}}}),t._v(" "+t._s(t._f("trans")("Loop")))]),i("br"),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!t.isVimeo&&!t.isYoutube,expression:"!isVimeo && !isYoutube"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.muted,expression:"video.data.muted"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.muted)?t._i(t.video.data.muted,null)>-1:t.video.data.muted},on:{change:function(e){var i=t.video.data.muted,a=e.target,n=!!a.checked;if(Array.isArray(i)){var o=t._i(i,null);a.checked?o<0&&t.$set(t.video.data,"muted",i.concat([null])):o>-1&&t.$set(t.video.data,"muted",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.video.data,"muted",n)}}}),t._v(" "+t._s(t._f("trans")("Muted")))])])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isYoutube&&!t.isVimeo,expression:"!isYoutube && !isVimeo"}],staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Poster Image")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input-image",{attrs:{"input-field":!1,"class-name":"uk-width-1-1"},model:{value:t.video.data.poster,callback:function(e){t.$set(t.video.data,"poster",e)},expression:"video.data.poster"}})],1)])]),t._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-margin-right uk-modal-close",attrs:{type:"button"}},[t._v("\n                "+t._s(t._f("trans")("Cancel"))+"\n            ")]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t._f("trans")("Update"))+"\n            ")])])])])}),[],!1,null,null,null).exports,s=n({data:function(){return{link:{link:"",txt:"",class:""}}},mounted:function(){this.$refs.modal.open()},methods:{close:function(){this.$destroy(!0)},update:function(){this.$refs.modal.close(),this.$emit("select",this.link)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-modal",{ref:"modal",attrs:{closed:t.close}},[i("form",{staticClass:"uk-form-stacked",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[i("div",{staticClass:"uk-modal-header"},[i("h2",{staticClass:"uk-h4"},[i("span",{attrs:{"uk-icon":"link",ratio:"1.1"}}),i("span",{staticClass:"uk-text-middle uk-margin-small-left"},[t._v(t._s(t._f("trans")("Link")))])])]),t._v(" "),i("div",{staticClass:"uk-modal-body"},[i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-link-title"}},[t._v(t._s(t._f("trans")("Title")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.link.txt,expression:"link.txt"}],staticClass:"uk-input uk-width-1-1",attrs:{id:"form-link-title",type:"text"},domProps:{value:t.link.txt},on:{input:function(e){e.target.composing||t.$set(t.link,"txt",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-link-url"}},[t._v(t._s(t._f("trans")("URL")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input-link",{attrs:{id:"form-link-url","class-name":"uk-width-xlarge"},model:{value:t.link.link,callback:function(e){t.$set(t.link,"link",e)},expression:"link.link"}})],1)])]),t._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-margin-right uk-modal-close",attrs:{type:"button"}},[t._v("\n                "+t._s(t._f("trans")("Cancel"))+"\n            ")]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t._f("trans")("Update"))+"\n            ")])])])])}),[],!1,null,null,null).exports,c={name:"editor-code",created:function(){var t="".concat($editor.root_url,"/app/assets/codemirror");this.$asset({css:["".concat(t,"/show-hint.css"),"".concat(t,"/codemirror.css")],js:["".concat(t,"/codemirror.min.js")]}).then(this.init)},methods:{init:function(){var t=this,e=this.$parent.editorMode,i="split"!==e?this.$parent.$refs.editor:this.$parent.$refs["editor-code"];this.editor=CodeMirror.fromTextArea(i,_.extend({mode:"htmlmixed",dragDrop:!1,autoCloseTags:!0,matchTags:!0,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!1,tabSize:4,lineNumbers:!0,lineWrapping:!0,extraKeys:{F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Esc:function(t){t.getOption("fullScreen")&&t.setOption("fullScreen",!1)}}},this.$parent.options)),this.editor.setSize(null,this.$parent.height-2),this.editor.refresh(),"split"!==e&&(this.$parent.ready=!0),this.editor.on("change",(function(){t.editor.save(),Object(a.trigger)(i,"input")})),this.$watch("$parent.active",(function(t){"split"===e&&1===Number.parseInt(t)&&(this.editor.setSize(null,this.getHeight(this.$parent.$refs.visual)-2),this.editor.refresh())})),this.$watch("$parent.content",(function(t){t!==this.editor.getValue()&&(this.editor.setValue(t),this.editor.refresh())})),this.observe(i,e),this.$emit("ready")},getHeight:function(t){var e;return"none"!==Object(a.css)(t,"display")?Object(a.height)(t):(Object(a.css)(t,{position:"absolute",visibility:"hidden",display:"block"}),e=Object(a.height)(t),Object(a.removeAttr)(t,"style"),e)},observe:function(t,e){var i=this,n=Object(a.closest)(t,".uk-switcher>*");"split"!==e&&(n&&new MutationObserver((function(){"none"!==n.style.display&&i.editor.refresh()})).observe(n,{attributes:!0,childList:!0}))}}},l={name:"plugin-video",plugin:!0,created:function(){if("undefined"!=typeof tinyMCE){var t=this;this.$parent.editor.plugins.push("media"),this.$parent.editor.plugins.push("-pagekitVideo"),tinyMCE.PluginManager.add("pagekitVideo",(function(e){var i=function(){var i,a,n={},o=e.selection.getNode(),r={};"IMG"===o.nodeName&&o.hasAttribute("data-mce-object")?(e.selection.select(o),Object.keys(o.attributes).forEach((function(t){var e=o.attributes[t].name;("width"===e||"height"===e||(e=e.match(/data-mce-p-(.*)/))&&(e=e[1]))&&(r[e]=""===o.attributes[t].nodeValue||o.attributes[t].nodeValue)}))):"SPAN"===o.nodeName&&o.hasAttribute("data-mce-object")&&(o=o.firstChild)&&(i=(a=(a=o.getAttribute("src")).split("?"))[1],a=a[0],String(i).split("&").forEach((function(t){t=t.split("="),r[t[0]]=t[1]})),r.src=a,r.width=o.getAttribute("width"),r.height=o.getAttribute("height"),Object.keys(o.attributes).forEach((function(t){var e=o.attributes[t].name;"src"!==e&&"width"!==e&&"height"!==e&&(n[e]=o.attributes[t].nodeValue)})));var s=new(Vue.extend(t.$parent.$options.utils["video-picker"]))({parent:t,data:function(){return{video:{data:r}}}}).$mount().$on("select",(function(t){var i,a,o;delete t.data.playlist,(o=s.isYoutube)?(a="https://www.youtube.com/embed/".concat(o[1],"?"),t.data.loop&&(t.data.playlist=o[1])):(o=s.isVimeo)&&(a="https://player.vimeo.com/video/".concat(o[3],"?")),a?(Object.keys(t.data).forEach((function(e){"src"!==e&&"width"!==e&&"height"!==e&&(a="".concat(a).concat(e,"=").concat(_.isBoolean(t.data[e])?Number(t.data[e]):t.data[e],"&"))})),n.src=a.slice(0,-1),n.width=t.data.width||690,n.height=t.data.height||390,n.allowfullscreen=!0,i="<iframe",Object.keys(n).forEach((function(t){i="".concat(i," ").concat(t).concat(_.isBoolean(n[t])?"":'="'.concat(n[t],'"'))})),i="".concat(i,"></iframe>")):(i="<video",Object.keys(t.data).forEach((function(e){var a=t.data[e];a&&(i="".concat(i," ").concat(e).concat(_.isBoolean(a)?"":'="'.concat(a,'"')))})),i="".concat(i,"></video>")),e.selection.setContent(""),e.insertContent(i),e.fire("change")}))};e.ui.registry.addIcon("media",'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"></path></svg>'),e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit video",icon:"media",onAction:function(){i()},onSetup:function(t){return e.selection.selectorChangedWithUnbind("img[data-mce-object], span[data-mce-object]",(function(e){t.setActive(e),e&&i()})).unbind}}),e.ui.registry.addMenuItem("media",{icon:"media",text:"Insert/edit video",context:"insert",onAction:function(){i()}})}))}}},d={components:{"editor-textarea":{created:function(){this.$emit("ready"),this.$set(this.$parent,"show",!0)}},"editor-code":c},props:["type","mode","value","options"],data:function(){return{editor:{},height:500,show:!1,active:0,ready:!1,content:this.value}},editors:{html:{"editor-html":{name:"editor-html",created:function(){var t=this,e=$editor.root_url;this.$parent.$set(this.$parent,"height",this.$parent.height+31),this.$asset({css:["".concat(e,"/app/assets/codemirror/show-hint.css"),"".concat(e,"/app/assets/codemirror/codemirror.css")],js:["".concat(e,"/app/assets/codemirror/codemirror.min.js"),"".concat(e,"/app/assets/marked/marked.min.js")]}).then((function(){var e=this.$parent.$refs.editor,i=this.$parent.editor=UIkit.htmleditor(this.$parent.$refs.editor,_.extend({lblPreview:this.$trans("Preview"),lblCodeview:this.$trans("Code"),lblMarkedview:this.$trans("Markdown"),marked:window.marked,CodeMirror:window.CodeMirror},this.$parent.options));Object(a.on)(i.$el,"htmleditor-save",(function(t,e){if(e.element&&e.element[0].form){var i=document.createEvent("HTMLEvents");i.initEvent("submit",!0,!0),e.element[0].form.dispatchEvent(i)}})),Object(a.on)(i.$el,"init",(function(){t.$parent.ready=!0})),Object(a.on)(i.$el,"render",(function(){i.replaceInPreview(/<script(.*)>[^<]+<\/script>|<style(.*)>[^<]+<\/style>/gi,"")})),this.$watch("$parent.value",(function(t){i.editor&&t!==i.editor.getValue()&&i.editor.setValue(t)})),this.$watch("$parent.options.markdown",(function(t){Object(a.trigger)(i.$el,t?"enableMarkdown":"disableMarkdown")}),{immediate:!0}),this.observe(e),this.$emit("ready")}))},methods:{observe:function(t){var e=this,i=Object(a.closest)(t,".uk-switcher>*");i&&new MutationObserver((function(){"none"!==i.style.display&&e.$parent.editor.editor.refresh()})).observe(i,{attributes:!0,childList:!0})}}},"plugin-link":{name:"link-plugin",data:function(){return{links:[]}},plugin:!0,created:function(){var t=this,e=this.$parent.editor;e&&e.htmleditor&&(Object(a.on)(e.$el,"action.link",(function(e,i){e.stopImmediatePropagation(),t.openModal(_.find(t.links,(function(t){return t.inRange(i.getCursor())})))})),Object(a.on)(e.$el,"render",(function(){var i="gfm"!==e.getMode()?/<a(?:\s.+?>|\s*>)(?:[^<]*)<\/a>/gi:/<a(?:\s.+?>|\s*>)(?:[^<]*)<\/a>|(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?/gi;t.links=e.replaceInPreview(i,t.replaceInPreview)})),Object(a.on)(e.$el,"renderLate",(function(){for(;t.$children.length;)t.$children[0].$destroy();Vue.nextTick((function(){Object(a.findAll)("link-preview",e.preview).forEach((function(e){(new(t.getWrapper(Object(a.attr)(e,"index")))).$mount(e)}))}))})))},methods:{getWrapper:function(t){var e=this;return Vue.extend({name:"Wrapper",parent:this,components:this.$options.components,data:function(){return e.$data},methods:{openModal:function(t){return this.$parent.openModal(t)}},render:function(e){return e("link-preview",{props:{index:t}})}})},openModal:function(t){var e=new DOMParser,i=this.$parent.editor,a=i.editor.getCursor();t||(t={replace:function(t){i.editor.replaceRange(t,a)}}),new this.$parent.$options.utils["link-picker"]({parent:this,data:{link:t}}).$mount().$on("select",(function(t){t.anchor||(t.anchor=e.parseFromString("<a></a>","text/html").body.childNodes[0]),t.anchor.setAttribute("href",t.link),t.anchor.innerHTML=t.txt,t.replace(t.anchor.outerHTML)}))},replaceInPreview:function(t,e){var i=new DOMParser;if(t.data={},"<"===t.matches[0][0])t.anchor=i.parseFromString(t.matches[0],"text/html").body.childNodes[0],t.link=t.anchor.attributes.href?t.anchor.attributes.href.nodeValue:"",t.txt=t.anchor.innerHTML;else{if("!"===t.matches[t.matches.length-1][t.matches[t.matches.length-2]-1])return!1;t.link=t.matches[2],t.txt=t.matches[1]}return'<link-preview index="'.concat(e,'"></link-preview>')}},components:{"link-preview":n({name:"LinkPreview",props:{index:{type:String,default:""}},computed:{link:function(){return this.$parent.links[this.index]||{}}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{class:["uk-link",t.link.class],attrs:{href:t.link.link},on:{click:function(e){return e.preventDefault(),t.$parent.openModal(t.link)}}},[t.link.txt?i("span",{domProps:{innerHTML:t._s(t.link.txt)}}):i("span",[t._v(t._s(t._f("trans")("Select Link")))]),t._v(" "),i("span",{attrs:{"uk-icon":"link"}})])}),[],!1,null,null,null).exports}},"plugin-image":{name:"image-plugin",data:function(){return{images:[]}},plugin:!0,created:function(){var t=this,e=this.$parent.editor;e&&e.htmleditor&&(Object(a.on)(e.$el,"action.image",(function(e,i){e.stopImmediatePropagation(),t.openModal(_.find(t.images,(function(t){return t.inRange(i.getCursor())})))})),Object(a.on)(e.$el,"render",(function(){var i="gfm"!==e.getMode()?/<img(.+?)>/gi:/(?:<img(.+?)>|!(?:\[([^\n\]]*)])(?:\(([^\n\]]*?)\))?)/gi;t.images=e.replaceInPreview(i,t.replaceInPreview)})),Object(a.on)(e.$el,"renderLate",(function(){for(;t.$children.length;)t.$children[0].$destroy();Vue.nextTick((function(){Object(a.findAll)("image-preview",e.preview).forEach((function(e){(new(t.getWrapper(Object(a.attr)(e,"index")))).$mount(e)}))}))})))},methods:{getWrapper:function(t){var e=this;return Vue.extend({name:"Wrapper",parent:this,components:this.$options.components,data:function(){return e.$data},methods:{openModal:function(t){return this.$parent.openModal(t)}},render:function(e){return e("image-preview",{props:{index:t}})}})},openModal:function(t){var e=new DOMParser,i=this.$parent.editor,a=i.editor.getCursor();t||(t={replace:function(t){i.editor.replaceRange(t,a)}}),new this.$parent.$options.utils["image-picker"]({parent:this,data:{image:t}}).$mount().$on("select",(function(t){var a;"html"===(t.tag||i.getCursorMode())?(t.anchor||(t.anchor=e.parseFromString("<img>","text/html").body.childNodes[0]),t.anchor.setAttribute("src",t.data.src),t.anchor.setAttribute("alt",t.data.alt),a=t.anchor.outerHTML):a="![".concat(t.data.alt,"](").concat(t.data.src,")"),t.replace(a)}))},replaceInPreview:function(t,e){var i=new DOMParser;return t.data={},"<"===t.matches[0][0]?(t.anchor=i.parseFromString(t.matches[0],"text/html").body.childNodes[0],t.anchor.attributes["uk-img"]&&(t.data["uk-img"]=t.anchor.attributes["uk-img"].nodeValue),t.anchor.attributes["uk-svg"]&&(t.data["uk-svg"]=t.anchor.attributes["uk-svg"].nodeValue),(t.anchor.attributes["uk-img"]||t.anchor.attributes["uk-svg"])&&(t.data["data-src"]=t.anchor.attributes["data-src"].nodeValue),t.data.src=t.anchor.attributes.src?t.anchor.attributes.src.nodeValue:"",t.data.alt=t.anchor.attributes.alt?t.anchor.attributes.alt.nodeValue:"",t.tag="html"):(t.data.src=t.matches[3],t.data.alt=t.matches[2],t.tag="gfm"),'<image-preview index="'.concat(e,'"></image-preview>')}},components:{"image-preview":n({props:{index:{type:String,default:""}},computed:{image:function(){return this.$parent.images[this.index]||{}},isSource:function(){return this.image.data["uk-img"]||this.image.data["uk-svg"]||this.image.data["data-src"]||this.image.data.src}},methods:{hasAttribute:function(t){return this.image.data.hasOwnProperty(t)},config:function(){this.$parent.openModal(this.image)},remove:function(){this.image.replace("")}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isSource?i("div",{staticClass:"uk-inline-clip uk-transition-toggle uk-visible-toggle"},[t.hasAttribute("uk-img")?i("img",{attrs:{"data-src":t.$url(t.image.data["data-src"]),src:t.$url(t.image.data.src),alt:t.image.data.alt,"uk-img":t.image.data["uk-img"]?t.$url(t.image.data["uk-img"]):""}}):t.hasAttribute("uk-svg")?i("img",{attrs:{"data-src":t.$url(t.image.data["data-src"]),src:t.$url(t.image.data.src),alt:t.image.data.alt,"uk-svg":t.image.data["uk-svg"]?t.$url(t.image.data["uk-svg"]):""}}):t.image.data.src?i("img",{attrs:{src:t.$url(t.image.data.src),alt:t.image.data.alt}}):t._e(),t._v(" "),i("div",{staticClass:"uk-transition-fade uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"}),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-position-top-right pk-panel-badge uk-invisible-hover"},[i("ul",{staticClass:"uk-iconnav"},[i("li",[i("a",{directives:[{name:"confirm",rawName:"v-confirm",value:"Reset image?",expression:"'Reset image?'"}],attrs:{"uk-icon":"trash",title:t._f("trans")("Delete"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])]):i("div",{staticClass:"uk-panel uk-placeholder uk-placeholder-large uk-text-center uk-visible-toggle"},[i("img",{attrs:{width:"60",height:"60",alt:t._f("trans")("Placeholder Image"),src:t.$url("app/system/assets/images/placeholder-image.svg")}}),t._v(" "),i("p",{staticClass:"uk-text-muted uk-margin-small-top"},[t._v("\n        "+t._s(t._f("trans")("Add Image"))+"\n    ")]),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-position-top-right pk-panel-badge uk-invisible-hover"},[i("ul",{staticClass:"uk-iconnav"},[i("li",[i("a",{attrs:{"uk-icon":"trash",title:t._f("trans")("Delete"),"data-uk-tooltip":"{delay: 500}"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])])}),[],!1,null,null,null).exports}},"plugin-video":{name:"video-plugin",data:function(){return{videos:[]}},plugin:!0,created:function(){var t=this,e=this.$parent.editor;e&&e.htmleditor&&(e.addButton("video",{title:"Video",label:'<i uk-icon="video"></i>'}),e.addToolbarButton("video"),Object(a.on)(e.$el,"action.video",(function(e,i){e.stopImmediatePropagation(),t.openModal(_.find(t.videos,(function(t){return t.inRange(i.getCursor())})))})),Object(a.on)(e.$el,"render",(function(){t.videos=e.replaceInPreview(/<(video|iframe)([^>]*)>[^<]*<\/(?:video|iframe)>|\(video\)(\{.+?})/gi,t.replaceInPreview)})),Object(a.on)(e.$el,"renderLate",(function(){for(;t.$children.length;)t.$children[0].$destroy();Vue.nextTick((function(){Object(a.findAll)("video-preview",e.preview).forEach((function(e){(new(t.getWrapper(Object(a.attr)(e,"index")))).$mount(e)}))}))})),e.debouncedRedraw())},methods:{getWrapper:function(t){var e=this;return Vue.extend({name:"Wrapper",parent:this,components:this.$options.components,data:function(){return e.$data},methods:{openModal:function(t){return this.$parent.openModal(t)}},render:function(e){return e("video-preview",{props:{index:t}})}})},openModal:function(t){var e=new DOMParser,i=this.$parent.editor,a=i.editor.getCursor();t||(t={replace:function(t){i.editor.replaceRange(t,a)}});var n=new this.$parent.$options.utils["video-picker"]({parent:this,data:{video:t}}).$mount();n.$on("select",(function(t){var i,a,o;delete t.data.playlist,(o=n.isYoutube)?(a="https://www.youtube.com/embed/".concat(o[1],"?"),t.data.loop&&(t.data.playlist=o[1])):(o=n.isVimeo)&&(a="https://player.vimeo.com/video/".concat(o[3],"?")),a?(t.anchor||(t.anchor=e.parseFromString("<iframe></iframe>","text/html").body.childNodes[0]),_.forEach(t.data,(function(t,e){"src"!==e&&"width"!==e&&"height"!==e&&(a="".concat(a).concat(e,"=").concat(_.isBoolean(t)?Number(t):t,"&"))})),t.attributes=t.attributes||{},t.attributes.src=a.slice(0,-1),t.attributes.width=t.data.width||690,t.attributes.height=t.data.height||390,t.attributes.allowfullscreen=!0,i=t.attributes):(t.anchor||(t.anchor=e.parseFromString("<video></video>","text/html").body.childNodes[0]),i=t.data),_.forEach(i,(function(e,i){e?t.anchor.setAttribute(i,_.isBoolean(e)?"":e):t.anchor.removeAttribute(i)})),t.replace(t.anchor.outerHTML)}))},replaceInPreview:function(t,e){var i,a,n,o=new DOMParser;if(t.matches[3]){try{i=JSON.parse(t.matches[3])}catch(t){console.error(t)}t.data=i||{src:""}}else t.data={},t.anchor=o.parseFromString(t.matches[0],"text/html").body.childNodes[0],"VIDEO"===t.anchor.nodeName?(_.forEach(t.anchor.attributes,(function(e){t.data[e.name]=""===e.nodeValue||e.nodeValue})),t.data.controls=void 0!==t.data.controls):"IFRAME"===t.anchor.nodeName&&(t.attributes={},_.forEach(t.anchor.attributes,(function(e){t.attributes[e.name]=""===e.nodeValue||e.nodeValue})),n=(a=(a=t.attributes.src||"").split("?"))[1]||"",a=a[0],n.split("&").forEach((function(e){e=e.split("="),t.data[e[0]]=e[1]})),t.data.src=a,t.attributes.width&&(t.data.width=t.attributes.width),t.attributes.height&&(t.data.height=t.attributes.height));return'<video-preview index="'.concat(e,'"></video-preview>')}},components:{"video-preview":n({props:{index:{type:String,default:""}},data:function(){return{imageSrc:!1,videoSrc:!1,width:"",height:""}},computed:{video:function(){return this.$parent.videos[this.index]||{}}},watch:{"video.data":{handler:"update",immediate:!0,deep:!0}},methods:{config:function(){this.$parent.openModal(this.video)},remove:function(){this.video.replace("")},update:function(t){var e;this.$set(this,"imageSrc",!1),this.$set(this,"videoSrc",!1),this.$set(this,"width",t.width||690),this.$set(this,"height",t.height||390);var i=t.src||"";(e=i.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/))?this.imageSrc="//img.youtube.com/vi/".concat(e[1],"/hqdefault.jpg"):i.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)?this.$http.get("http://vimeo.com/api/oembed.json",{params:{url:i},cache:10}).then((function(t){this.imageSrc=t.data.thumbnail_url})):this.videoSrc=this.$url(i)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.video.data.src?i("div",{staticClass:"uk-form-width-large uk-inline-clip uk-transition-toggle uk-visible-toggle"},[t.imageSrc?i("img",{attrs:{src:t.imageSrc}}):t._e(),t._v(" "),t.videoSrc?i("video",{staticClass:"uk-responsive-width",attrs:{src:t.videoSrc,width:t.width,height:t.height}}):t._e(),t._v(" "),i("div",{staticClass:"uk-transition-fade uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"}),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-position-top-right pk-panel-badge uk-invisible-hover"},[i("ul",{staticClass:"uk-iconnav"},[i("li",[i("a",{directives:[{name:"confirm",rawName:"v-confirm",value:"Reset video?",expression:"'Reset video?'"}],attrs:{"uk-icon":"trash",title:t._f("trans")("Delete"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])]):i("div",{staticClass:"uk-panel uk-placeholder uk-placeholder-large uk-text-center uk-visible-toggle"},[i("img",{attrs:{width:"60",height:"60",alt:t._f("trans")("Placeholder Video"),src:t.$url("app/system/assets/images/placeholder-video.svg")}}),t._v(" "),i("p",{staticClass:"uk-text-small uk-text-muted uk-margin-small-top"},[t._v("\n        "+t._s(t._f("trans")("Add Video"))+"\n    ")]),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-position-top-right pk-panel-badge uk-invisible-hover"},[i("ul",{staticClass:"uk-iconnav"},[i("li",[i("a",{attrs:{"uk-icon":"trash",title:t._f("trans")("Delete"),"data-uk-tooltip":"{delay: 500}"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])])}),[],!1,null,null,null).exports}},"plugin-url":{name:"url-plugin",plugin:!0,created:function(){var t=this.$parent.editor;t&&t.htmleditor&&Object(a.on)(t.$el,"renderLate",(function(){t.replaceInPreview(/src=["'](.+?)["']/gi,(function(t){var e=t.matches[0];return t.matches[1].match(/^(\/|http:|https:|ftp:)/i)||(e=e.replace(t.matches[1],Vue.url(t.matches[1],!0))),e}))}))}}},tinymce:{"editor-html":{name:"editor-tinymce",data:function(){return{plugins:[],toolbar:""}},created:function(){var t=this,e="".concat($editor.root_url,"/app/assets/tinymce"),i=_.get(this.$parent,"$vnode.data.model.expression"),n="editor.tinymce.toolbar";n=i?"".concat(n,".").concat(i):n,this.toolbar=this.$session.get(n,0),this.$parent.editor=this,this.$asset({js:["".concat(e,"/tinymce.min.js")]}).then((function(){this.$emit("ready"),tinyMCE.baseURL=e,tinyMCE.suffix=".min",this.$parent.editor=tinyMCE.init(_.merge({skin_url:"".concat($editor.root_url,"/app/assets/tinymce_skin"),height:this.$parent.height+12,mode:"exact",menubar:!1,branding:!1,plugins:[t.plugins,"autolink lists charmap hr anchor media","visualblocks fullscreen","paste"],toolbar:["bold italic bullist numlist blockquote hr alignleft aligncenter alignright link image media toggletoolbar fullscreen","formatselect underline alignjustify strikethrough charmap forecolor backcolor removeformat outdent indent pastetext visualblocks textPicker widgetPicker undo redo"],fontsize_formats:"10px 11px 12px 14px 16px 18px 24px 36px 48px",toolbar_item_size:"small",forced_root_block:"",force_br_newlines:!0,force_p_newlines:"",document_base_url:"".concat(Vue.url.options.root,"/"),elements:[this.$parent.$refs.editor],element_format:"html",entity_encoding:"raw",verify_html:!1,setup:function(e){e.on("init",(function(){var i=$editor.content_js;(!t.$parent.options||!1!==t.$parent.options.scripts)&&i.length?t.loadScripts(e,i,(function(){t.$parent.ready=!0})):t.$parent.ready=!0})),e.ui.registry.addIcon("more",'<svg aria-hidden="true" role="img" focusable="false" class="dashicon dashicons-ellipsis" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M5 10c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm12-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg>'),e.ui.registry.addToggleButton("toggletoolbar",{icon:"more",onAction:function(i){var o=Object(a.$)(".tox-tinymce .tox-toolbar:nth-child(2)",e.editorContainer);i.isActive()?(t.$session.set(n,0),Object(a.attr)(o,"hidden","")):(Object(a.removeAttr)(o,"hidden"),t.$session.set(n,1)),i.setActive(!i.isActive())},onSetup:function(i){t.$nextTick((function(){var n=Object(a.$)(".tox-tinymce .tox-toolbar:nth-child(2)",e.editorContainer),o=Object(a.$)(".tox-tinymce .tox-toolbar > .tox-toolbar__group:first-child",e.editorContainer);t.toolbar?i.setActive(!0):Object(a.attr)(n,"hidden",""),Object(a.css)(o,"border","none")}))}})},init_instance_callback:function(e){t.tiny=e;var i=function(t){this.tiny.setContent(t||"",{format:"text"})},a=t.$watch("$parent.content",i,{immediate:!0});e.on("change",(function(){a(),t.$parent.content=e.getContent(),a=t.$watch("$parent.content",i)})),e.on("undo",(function(){e.fire("change")})),e.on("redo",(function(){e.fire("change")})),e.on("keydown",(function(e){if((e.ctrlKey||e.metaKey)&&83===e.which&&"function"==typeof t.$root.save)return e.preventDefault(),t.$root.save(),!1}))},save_onsavecallback:function(){if(t.$parent.$refs.editor.form){var e=document.createEvent("HTMLEvents");e.initEvent("submit",!0,!1),t.$parent.$refs.editor.form.dispatchEvent(e)}}},$editor))}))},methods:{loadScripts:function(t,e,i){var a=arguments,n=this,o=0,r=function(){++o>=e.length&&i.call(n,a)};e.forEach((function(e){n.loadScript(t,e,r)}))},loadScript:function(t,e,i){var n=Object(a.$)("head",t.contentDocument),o=document.createElement("script");o.type="text/javascript",o.src=e,o.onreadystatechange=i,o.onload=i,n.appendChild(o)}}},"plugin-link":{name:"plugin-link",plugin:!0,created:function(){if("undefined"!=typeof tinyMCE){var t,e=this;this.$parent.editor.plugins.push("-pagekitLink"),tinyMCE.PluginManager.add("pagekitLink",(function(i){var a=function(){var a=i.selection.getNode();"A"===a.nodeName?(i.selection.select(a),t={link:a.attributes.href?a.attributes.href.nodeValue:"",txt:a.innerHTML}):(a=document.createElement("a"),t={}),new(Vue.extend(e.$parent.$options.utils["link-picker"]))({parent:e,data:{link:t}}).$mount().$on("select",(function(t){a.setAttribute("href","");var e=Object.keys(a.attributes).reduce((function(e,i){var n=a.attributes[i].name;return"data-mce-href"===n?e:"".concat(e," ").concat(n,'="').concat("href"===n?t.link:a.attributes[i].nodeValue,'"')}),"");i.selection.setContent("<a".concat(e,">").concat(t.txt,"</a>")),i.fire("change")}))};i.on("click",(function(t){"A"===t.target.nodeName&&a()})),i.ui.registry.addToggleButton("link",{tooltip:"Insert/edit link",icon:"link",onAction:function(){a()},onSetup:function(t){return i.selection.selectorChangedWithUnbind("a",t.setActive).unbind}}),i.ui.registry.addMenuItem("link",{context:"insert",icon:"link",text:"Insert/edit link",onAction:function(){a()}})}))}}},"plugin-image":{name:"plugin-image",plugin:!0,created:function(){if("undefined"!=typeof tinyMCE){var t,e=this;this.$parent.editor.plugins.push("-pagekitImage"),tinyMCE.PluginManager.add("pagekitImage",(function(i){var a=function(){var a=i.selection.getNode();"IMG"!==a.nodeName||a.hasAttribute("data-mce-object")?(a=new Image||document.createElement("img"),t={}):(i.selection.select(a),t={src:a.attributes.src.nodeValue,alt:a.attributes.alt.nodeValue}),new(Vue.extend(e.$parent.$options.utils["image-picker"]))({name:"image-picker",parent:e,data:{image:{data:t}}}).$mount().$on("select",(function(t){a.setAttribute("src",""),a.setAttribute("alt","");var e=Object.keys(a.attributes).reduce((function(e,i){var n=a.attributes[i].name;return"data-mce-src"===n?e:"".concat(e," ").concat(n,'="').concat(t.data[n]||a.attributes[i].nodeValue,'"')}),"");i.selection.setContent("<img".concat(e,">")),i.fire("change")}))};i.ui.registry.addToggleButton("image",{tooltip:"Insert/edit image",icon:"image",onAction:function(){a()},onSetup:function(t){return i.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",(function(e){t.setActive(e),e&&a()})).unbind}}),i.ui.registry.addMenuItem("image",{icon:"image",text:"Insert/edit image",context:"insert",onAction:function(){a()}})}))}}},"plugin-video":l},code:{"editor-html":c}},unsplit:["html","code","textarea"],computed:{editorType:function(){return this.type||window.$pagekit.editor.editor||"textarea"},editorMode:function(){return-1!==this.$options.unsplit.indexOf(this.editorType)?"":this.mode||window.$pagekit.editor.mode||""}},watch:{value:function(t){this.$set(this,"content",t)},content:function(t){this.$emit("input",t),this.$emit("editor-update",t)}},created:function(){this.createEditor(),this.$on("hook:mounted",this.init)},mounted:function(){var t=this;"split"===this.editorMode&&(this.tab=UIkit.switcher(this.$refs.tab),Object(a.on)(this.tab.connects,"show",(function(e,i){if(i!==t.tab)return!1;for(var n=0;n<Object.keys(i.toggles).length;n++){var o=Object.keys(i.toggles)[n];if(Object(a.closest)(Object(a.$)(i.toggles[o]),"li").classList.contains("uk-active")){t.active=o;break}}})),this.tab.show(this.active))},methods:{createEditor:function(){-1!==Object.keys(this.$options.editors).indexOf(this.editorType)&&_.extend(this.$options.components,this.$options.editors[this.editorType])},init:function(){if("split"===this.editorMode){var t=this.$el.previousElementSibling||this.$el.parentNode.previousElementSibling;t&&Object(a.addClass)(t,"uk-position-absolute")}if(this.options&&this.options.height&&(this.height=this.options.height),this.$el.hasAttributes())for(var e=this.$el.attributes,i=e.length-1;i>=0;i--)"class"!==e[i].name&&(this.$refs.editor.setAttribute(e[i].name,e[i].value),this.$el.removeAttribute(e[i].name));var n=this.$options.components,o="editor-".concat(this.type),r=this,s=n[o]||n["editor-html"]||n["editor-textarea"];new(Vue.extend(s))({parent:this}).$on("ready",(function(){_.forIn(r.$options.components,(function(t){t.plugin&&new(Vue.extend(t))({parent:r})}),this),"split"===r.editorMode&&r.addCode()}))},addCode:function(){new(Vue.extend(this.$options.components["editor-code"]))({parent:this})}},utils:{"image-picker":Vue.extend(o),"video-picker":Vue.extend(r),"link-picker":Vue.extend(s)}};Vue.component("VEditor",(function(t){t(d)}));var u=n(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["pk-editor",t.editorMode,{"uk-invisible":!t.ready&&!t.editorMode}]},["split"===t.editorMode?[i("ul",{ref:"tab",staticClass:"uk-subnav uk-flex-right",attrs:{"uk-switcher":""}},[i("li",[i("a",{attrs:{href:""}},[t._v(t._s(t._f("trans")("Visual")))])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v(t._s(t._f("trans")("Code")))])])]),t._v(" "),i("ul",{staticClass:"uk-switcher",class:{"uk-invisible":!t.ready}},[i("li",{ref:"visual"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"editor",class:{"uk-invisible":!t.show},style:{height:t.height+"px"},attrs:{autocomplete:"off"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),i("li",{ref:"code"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"editor-code",class:{"uk-invisible":!t.show},style:{height:t.height+"px"},attrs:{autocomplete:"off"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])])]:[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"editor",class:{"uk-invisible":!t.show},style:{height:t.height+"px"},attrs:{autocomplete:"off"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]],2)}),[],!1,null,null,null);e.default=u.exports}]);