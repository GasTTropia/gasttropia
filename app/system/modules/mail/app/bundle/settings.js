!function(t){var e={};function s(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var o={mixins:[{props:["name","settings"],data:function(){return _.extend({},this.settings)},computed:{moduleConfig:function(){return this.config[this.name]},moduleOptions:function(){return this.options[this.name]}},created:function(){this.updateData(this.settings)},mounted:function(){var t=this;_.forEach(this.$data,(function(e,s){t.settings.hasOwnProperty(s)&&t.$watch(s,(function(e,o){t.$trigger("settings-changed",{key:s,data:e})}),{deep:!0})}))},methods:{updateData:function(t){var e=this;_.forEach(t,(function(t,s){_.isEqual(e[s],t)||e.$set(e,s,_.merge({},t))}))}}},Theme.Mixins.Helper],section:{label:"Mail",icon:"mail",priority:40},data:function(){return _.extend({hidePassword:!0,processing:{smtp:!1,email:!1}},window.$mail)},theme:{hideEls:function(){return this.$el.querySelectorAll(".uk-button-default")},elements:function(){var t=this;return{testsmtp:{scope:"topmenu-left",type:"button",caption:"Check Connection",class:"uk-button tm-button-success",spinner:function(){return t.processing.smtp},on:{click:function(){return t.test("smtp")}},vif:function(){return t.$theme.getActiveTab("leftTab",!0)&&"smtp"===t.moduleOptions.driver},watch:function(){return t.$theme.getActiveTab("leftTab")},priority:0},testmail:{scope:"topmenu-left",type:"button",caption:"Send Test Email",class:"uk-button tm-button-success",spinner:function(){return t.processing.email},on:{click:function(){return t.test("email")}},vif:function(){return t.$theme.getActiveTab("leftTab",!0)},watch:function(){return t.$theme.getActiveTab("leftTab")},priority:1}}}},watch:{"moduleOptions.driver":function(t){"smtp"===t&&null===this.moduleOptions.encryption&&(this.moduleOptions.encryption="")}},methods:{test:function(t){this.processing[t]=!0,"email"===t&&(this.processing.email=!0),this.$http.post("admin/system/".concat(t),{option:this.moduleOptions}).then((function(t){var e=t.data;this.$notify(e.message,e.success?"":"danger")}),(function(){this.$notify("Ajax request to server failed.","danger")})).then((function(){var e=this;setTimeout((function(){e.processing[t]=!1}),200)}))}}},n=o;window.Settings.components["system-mail"]=o;var r=function(t,e,s,o,n,r,a,i){var u,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),o&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),a?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=u):n&&(u=i?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),u)if(l.functional){l._injectStyles=u;var m=l.render;l.render=function(t,e){return u.call(e),m(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:l}}(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"uk-margin uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[s("div",[s("h2",{staticClass:"uk-h3 uk-margin-remove"},[t._v("\n                "+t._s(t._f("trans")("Mail"))+"\n            ")])]),t._v(" "),s("div",{staticClass:"uk-margin-small"},[s("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t._f("trans")("Save"))+"\n            ")])])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-emailaddress"}},[t._v(t._s(t._f("trans")("From Email")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.from_address,expression:"moduleOptions.from_address"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-emailaddress",type:"text"},domProps:{value:t.moduleOptions.from_address},on:{input:function(e){e.target.composing||t.$set(t.moduleOptions,"from_address",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-fromname"}},[t._v(t._s(t._f("trans")("From Name")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.from_name,expression:"moduleOptions.from_name"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-fromname",type:"text"},domProps:{value:t.moduleOptions.from_name},on:{input:function(e){e.target.composing||t.$set(t.moduleOptions,"from_name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-mailer"}},[t._v(t._s(t._f("trans")("Mailer")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.driver,expression:"moduleOptions.driver"}],staticClass:"uk-form-width-large uk-select",attrs:{id:"form-mailer"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.moduleOptions,"driver",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"mail"}},[t._v("\n                    "+t._s(t._f("trans")("PHP Mailer"))+"\n                ")]),t._v(" "),s("option",{attrs:{value:"smtp"}},[t._v("\n                    "+t._s(t._f("trans")("SMTP Mailer"))+"\n                ")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"smtp"==t.moduleOptions.driver,expression:"'smtp' == moduleOptions.driver"}],staticClass:"uk-margin"},[s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-smtpport"}},[t._v(t._s(t._f("trans")("SMTP Port")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.port,expression:"moduleOptions.port"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-smtpport",type:"text"},domProps:{value:t.moduleOptions.port},on:{input:function(e){e.target.composing||t.$set(t.moduleOptions,"port",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-smtphost"}},[t._v(t._s(t._f("trans")("SMTP Host")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.host,expression:"moduleOptions.host"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-smtphost",type:"text"},domProps:{value:t.moduleOptions.host},on:{input:function(e){e.target.composing||t.$set(t.moduleOptions,"host",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-smtpuser"}},[t._v(t._s(t._f("trans")("SMTP User")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.username,expression:"moduleOptions.username"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-smtpuser",type:"text",autocomplete:"username"},domProps:{value:t.moduleOptions.username},on:{input:function(e){e.target.composing||t.$set(t.moduleOptions,"username",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-smtppassword"}},[t._v(t._s(t._f("trans")("SMTP Password")))]),t._v(" "),s("div",{staticClass:"uk-form-controls js-password"},[s("div",{staticClass:"uk-form-password"},[s("div",{staticClass:"uk-inline"},[s("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-tooltip":t._f("trans")(t.hidePassword?"Show":"Hide"),delay:"500",pos:"right",href:"#","uk-icon":t.hidePassword?"eye-closed":"eye"},on:{click:function(e){e.preventDefault(),t.hidePassword=!t.hidePassword}}}),t._v(" "),"checkbox"==(t.hidePassword?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.password,expression:"moduleOptions.password"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-smtppassword",autocomplete:"current-password",type:"checkbox"},domProps:{checked:Array.isArray(t.moduleOptions.password)?t._i(t.moduleOptions.password,null)>-1:t.moduleOptions.password},on:{change:function(e){var s=t.moduleOptions.password,o=e.target,n=!!o.checked;if(Array.isArray(s)){var r=t._i(s,null);o.checked?r<0&&t.$set(t.moduleOptions,"password",s.concat([null])):r>-1&&t.$set(t.moduleOptions,"password",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.moduleOptions,"password",n)}}}):"radio"==(t.hidePassword?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.password,expression:"moduleOptions.password"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-smtppassword",autocomplete:"current-password",type:"radio"},domProps:{checked:t._q(t.moduleOptions.password,null)},on:{change:function(e){return t.$set(t.moduleOptions,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.password,expression:"moduleOptions.password"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-smtppassword",autocomplete:"current-password",type:t.hidePassword?"password":"text"},domProps:{value:t.moduleOptions.password},on:{input:function(e){e.target.composing||t.$set(t.moduleOptions,"password",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-smtpencryption"}},[t._v(t._s(t._f("trans")("SMTP Encryption")))]),t._v(" "),s("div",{staticClass:"uk-form-controls"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.moduleOptions.encryption,expression:"moduleOptions.encryption"}],staticClass:"uk-form-width-large uk-select",attrs:{id:"form-smtpencryption"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.moduleOptions,"encryption",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("\n                        "+t._s(t._f("trans")("None"))+"\n                    ")]),t._v(" "),s("option",{attrs:{value:"ssl",disabled:!t.ssl}},[t._v("\n                        "+t._s(t._f("trans")("SSL"))+"\n                    ")]),t._v(" "),s("option",{attrs:{value:"tls",disabled:!t.ssl}},[t._v("\n                        "+t._s(t._f("trans")("TLS"))+"\n                    ")])]),t._v(" "),t.ssl?t._e():s("p",{staticClass:"uk-margin-small-top uk-text-meta"},[t._v("\n                    "+t._s(t._f("trans")("Please enable the PHP Open SSL extension."))+"\n                ")])])])]),t._v(" "),s("div",{staticClass:"uk-margin"},[s("div",{staticClass:"uk-form-controls"},[s("button",{directives:[{name:"show",rawName:"v-show",value:"smtp"==t.moduleOptions.driver,expression:"'smtp' == moduleOptions.driver"}],staticClass:"uk-button uk-button-default uk-text-truncate",attrs:{type:"button"},on:{click:function(e){return t.test("smtp")}}},[t._v("\n                "+t._s(t._f("trans")("Check Connection"))+"\n            ")]),t._v(" "),s("button",{staticClass:"uk-button uk-button-default uk-text-truncate",attrs:{type:"button"},on:{click:function(e){return t.test("email")}}},[t._v("\n                "+t._s(t._f("trans")("Send Test Email"))+"\n            ")])])])])}),[],!1,null,null,null);e.default=r.exports}]);