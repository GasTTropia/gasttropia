!function(e){var t={};function s(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var a={props:["name","settings"],data:function(){return _.extend({},this.settings)},computed:{moduleConfig:function(){return this.config[this.name]},moduleOptions:function(){return this.options[this.name]}},created:function(){this.updateData(this.settings)},mounted:function(){var e=this;_.forEach(this.$data,(function(t,s){e.settings.hasOwnProperty(s)&&e.$watch(s,(function(t,a){e.$trigger("settings-changed",{key:s,data:t})}),{deep:!0})}))},methods:{updateData:function(e){var t=this;_.forEach(e,(function(e,s){_.isEqual(t[s],e)||t.$set(t,s,_.merge({},e))}))}}};function i(e,t,s,a,i,n,o,r){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=s,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):i&&(c=r?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}var n=i({mixins:[a],section:{label:"Localization",icon:"location",priority:20},data:function(){return{locales:window.$system.locales}},computed:{link:function(){return'<a href="https://www.transifex.com/pagekit/pagekit-cms/">Transifex</a>'},option:function(){return this.options.system}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"uk-margin uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[s("div",[s("h2",{staticClass:"uk-h3 uk-margin-remove"},[e._v("\n                "+e._s(e._f("trans")("Localization"))+"\n            ")])]),e._v(" "),s("div",{staticClass:"uk-margin-small"},[s("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[e._v("\n                "+e._s(e._f("trans")("Save"))+"\n            ")])])]),e._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-sitelocale"}},[e._v(e._s(e._f("trans")("Site Locale")))]),e._v(" "),s("div",{staticClass:"uk-form-controls"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.option.site.locale,expression:"option.site.locale"}],staticClass:"uk-form-width-large uk-select",attrs:{id:"form-sitelocale"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.option.site,"locale",t.target.multiple?s:s[0])}}},e._l(e.locales,(function(t,a){return s("option",{key:a,domProps:{value:a}},[e._v("\n                    "+e._s(t)+"\n                ")])})),0)])]),e._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-adminlocale"}},[e._v(e._s(e._f("trans")("Admin Locale")))]),e._v(" "),s("div",{staticClass:"uk-form-controls"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.option.admin.locale,expression:"option.admin.locale"}],staticClass:"uk-form-width-large uk-select",attrs:{id:"form-adminlocale"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.option.admin,"locale",t.target.multiple?s:s[0])}}},e._l(e.locales,(function(t,a){return s("option",{key:a,domProps:{value:a}},[e._v("\n                    "+e._s(t)+"\n                ")])})),0)])]),e._v(" "),s("p",{domProps:{innerHTML:e._s(e.$trans("Is your language not available? Please help out by translating Pagekit into your own language on %link%.",{link:e.link}))}})])}),[],!1,null,null,null).exports,o=i({mixins:[a],section:{label:"System",icon:"settings",priority:10},data:function(){return window.$system}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"uk-margin uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[s("div",[s("h2",{staticClass:"uk-h3 uk-margin-remove"},[e._v("\n                "+e._s(e._f("trans")("System"))+"\n            ")])]),e._v(" "),s("div",{staticClass:"uk-h3 uk-margin-small"},[s("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[e._v("\n                "+e._s(e._f("trans")("Save"))+"\n            ")])])]),e._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-storage"}},[e._v(e._s(e._f("trans")("Storage")))]),e._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.config["system/finder"].storage,expression:"config['system/finder'].storage"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-storage",type:"text",placeholder:"/storage"},domProps:{value:e.config["system/finder"].storage},on:{input:function(t){t.target.composing||e.$set(e.config["system/finder"],"storage",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-fileextensions"}},[e._v(e._s(e._f("trans")("File Extensions")))]),e._v(" "),s("div",{staticClass:"uk-form-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.options["system/finder"].extensions,expression:"options['system/finder']['extensions']"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-fileextensions",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},domProps:{value:e.options["system/finder"].extensions},on:{input:function(t){t.target.composing||e.$set(e.options["system/finder"],"extensions",t.target.value)}}}),e._v(" "),s("div",{staticClass:"uk-text-meta"},[e._v("\n                "+e._s(e._f("trans")("Allowed file extensions for the storage upload."))+"\n            ")])])]),e._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-user-recaptcha-enable"}},[e._v(e._s(e._f("trans")("Google reCAPTCHA")))]),e._v(" "),s("div",{staticClass:"uk-form-controls uk-form-controls-text"},[s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.options["system/captcha"].recaptcha_enable,expression:"options['system/captcha'].recaptcha_enable"}],staticClass:"uk-checkbox",attrs:{id:"form-user-recaptcha-enable",type:"checkbox"},domProps:{checked:Array.isArray(e.options["system/captcha"].recaptcha_enable)?e._i(e.options["system/captcha"].recaptcha_enable,null)>-1:e.options["system/captcha"].recaptcha_enable},on:{change:function(t){var s=e.options["system/captcha"].recaptcha_enable,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=e._i(s,null);a.checked?n<0&&e.$set(e.options["system/captcha"],"recaptcha_enable",s.concat([null])):n>-1&&e.$set(e.options["system/captcha"],"recaptcha_enable",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.options["system/captcha"],"recaptcha_enable",i)}}}),e._v(" "+e._s(e._f("trans")("Enable for user registration and comments")))])]),e._v(" "),e.options["system/captcha"].recaptcha_enable?s("div",{staticClass:"uk-margin-small"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.options["system/captcha"].recaptcha_sitekey,expression:"options['system/captcha'].recaptcha_sitekey"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-user-recaptcha-sitekey",placeholder:e._f("trans")("Site key")},domProps:{value:e.options["system/captcha"].recaptcha_sitekey},on:{input:function(t){t.target.composing||e.$set(e.options["system/captcha"],"recaptcha_sitekey",t.target.value)}}})]):e._e(),e._v(" "),e.options["system/captcha"].recaptcha_enable?s("div",{staticClass:"uk-margin-small"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.options["system/captcha"].recaptcha_secret,expression:"options['system/captcha'].recaptcha_secret"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-user-recaptcha-secret",placeholder:e._f("trans")("Secret key")},domProps:{value:e.options["system/captcha"].recaptcha_secret},on:{input:function(t){t.target.composing||e.$set(e.options["system/captcha"],"recaptcha_secret",t.target.value)}}})]):e._e(),e._v(" "),s("div",{staticClass:"uk-text-meta"},[e._v("\n                "+e._s(e._f("trans")("Only key pairs for Google reRECAPTCHA V2 Invisible are supported."))+"\n            ")])])]),e._v(" "),s("div",{staticClass:"uk-margin"},[s("label",{staticClass:"uk-form-label"},[e._v(e._s(e._f("trans")("Developer")))]),e._v(" "),s("div",{staticClass:"uk-form-controls uk-form-controls-text"},[s("div",{staticClass:"uk-margin-small"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.config.application.debug,expression:"config.application.debug"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.config.application.debug)?e._i(e.config.application.debug,"1")>-1:e.config.application.debug},on:{change:function(t){var s=e.config.application.debug,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=e._i(s,"1");a.checked?n<0&&e.$set(e.config.application,"debug",s.concat(["1"])):n>-1&&e.$set(e.config.application,"debug",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.config.application,"debug",i)}}}),e._v(" "+e._s(e._f("trans")("Enable debug mode")))])]),e._v(" "),s("div",{staticClass:"uk-margin-small"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.config.debug.enabled,expression:"config.debug.enabled"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",value:"1",disabled:!e.sqlite},domProps:{checked:Array.isArray(e.config.debug.enabled)?e._i(e.config.debug.enabled,"1")>-1:e.config.debug.enabled},on:{change:function(t){var s=e.config.debug.enabled,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=e._i(s,"1");a.checked?n<0&&e.$set(e.config.debug,"enabled",s.concat(["1"])):n>-1&&e.$set(e.config.debug,"enabled",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.config.debug,"enabled",i)}}}),e._v(" "+e._s(e._f("trans")("Enable debug toolbar")))])]),e._v(" "),e.sqlite?e._e():s("div",{staticClass:"uk-text-meta"},[e._v("\n                "+e._s(e._f("trans")("Please enable the SQLite database extension."))+"\n            ")]),e._v(" "),e.config.application.debug||e.config.debug.enabled?s("div",{staticClass:"uk-text-meta"},[e._v("\n                "+e._s(e._f("trans")("Please note that enabling debug mode or toolbar has serious security implications."))+"\n            ")]):e._e()])])])}),[],!1,null,null,null).exports,r=i({mixins:[a],section:{label:"Misc",icon:"cog",priority:100},data:function(){return _.extend({type:window.$pagekit.editor.editor||"",mode:window.$pagekit.editor.mode||"",presets:window.$pagekit.editor.presets||{}},window.$system)},editors:{html:{name:"HTML",value:"html"},tinymce:{name:"TinyMCE",value:"tinymce",split:!0},codemirror:{name:"Codemirror",value:"code"}},computed:{editor:function(){return _.find(this.$options.editors,{value:this.type})}},watch:{type:function(e){this.editor.split||(this.mode="")}},events:{"settings-save":function(e,t){var s={"system/editor":{editor:this.type,mode:this.mode,presets:this.presets}};_.extend(t.options,s)}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"uk-margin uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[s("div",[s("h2",{staticClass:"uk-h3 uk-margin-remove"},[e._v("\n                "+e._s(e._f("trans")("Misc"))+"\n            ")])]),e._v(" "),s("div",{staticClass:"uk-margin-small"},[s("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[e._v("\n                "+e._s(e._f("trans")("Save"))+"\n            ")])])]),e._v(" "),s("h3",{staticClass:"uk-h4 uk-margin-small"},[e._v("\n        "+e._s(e._f("trans")("Editor Settings"))+"\n    ")]),e._v(" "),s("div",{staticClass:"uk-margin-small"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-user-editor"}},[e._v(e._s(e._f("trans")("Default editor")))]),e._v(" "),s("div",{staticClass:"uk-form-controls"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"uk-select uk-form-width-large",attrs:{id:"form-user-editor"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.type=t.target.multiple?s:s[0]}}},e._l(e.$options.editors,(function(t,a){return s("option",{key:a,domProps:{value:t.value}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),0)])]),e._v(" "),"tinymce"===e.type?s("div",{staticClass:"uk-margin-small"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-user-editor"}},[e._v(e._s(e._f("trans")("Display mode")))]),e._v(" "),s("div",{staticClass:"uk-form-controls uk-form-controls-text"},[s("div",{staticClass:"uk-margin-small"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],staticClass:"uk-radio",attrs:{type:"radio",value:""},domProps:{checked:e._q(e.mode,"")},on:{change:function(t){e.mode=""}}}),e._v(" "+e._s(e._f("trans")("Default")))])]),e._v(" "),s("div",{staticClass:"uk-margin-small"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],staticClass:"uk-radio",attrs:{type:"radio",value:"split"},domProps:{checked:e._q(e.mode,"split")},on:{change:function(t){e.mode="split"}}}),e._v(" "+e._s(e._f("trans")("Spliting visual and code editor")))])]),e._v(" "),s("div",{staticClass:"uk-inline uk-form-width-large uk-text-meta"},[s("span",[e._v(e._s(e._f("trans")("By default, only one editor is displayed; in split mode, visual and code editors are displayed at the same time.")))])])])]):e._e(),e._v(" "),"tinymce"===e.type?s("div",{staticClass:"uk-margin-small"},[s("label",{staticClass:"uk-form-label",attrs:{for:"form-tinymce-uikit"}},[e._v(e._s(e._f("trans")("Presets")))]),e._v(" "),s("div",{staticClass:"uk-form-controls uk-form-controls-text"},[s("div",{staticClass:"uk-margin-small"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.presets.tinymce_uikit,expression:"presets.tinymce_uikit"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.presets.tinymce_uikit)?e._i(e.presets.tinymce_uikit,null)>-1:e.presets.tinymce_uikit},on:{change:function(t){var s=e.presets.tinymce_uikit,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=e._i(s,null);a.checked?n<0&&e.$set(e.presets,"tinymce_uikit",s.concat([null])):n>-1&&e.$set(e.presets,"tinymce_uikit",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.presets,"tinymce_uikit",i)}}}),e._v(" "+e._s(e._f("trans")("Preload UIkit framework scripts")))])]),e._v(" "),s("div",{staticClass:"uk-margin-small"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.presets.tinymce_body_class,expression:"presets.tinymce_body_class"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.presets.tinymce_body_class)?e._i(e.presets.tinymce_body_class,null)>-1:e.presets.tinymce_body_class},on:{change:function(t){var s=e.presets.tinymce_body_class,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=e._i(s,null);a.checked?n<0&&e.$set(e.presets,"tinymce_body_class",s.concat([null])):n>-1&&e.$set(e.presets,"tinymce_body_class",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.presets,"tinymce_body_class",i)}}}),e._v(" "+e._s(e._f("trans")("Add UIkit container class")))])])])]):e._e()])}),[],!1,null,null,null).exports;window.Settings={name:"settings",el:"#settings",mixins:[Theme.Mixins.Helper,Theme.Mixins.UIElements],data:function(){return{settings:_.merge({},window.$settings)}},theme:{hideEls:[".pk-width-content li > div > div.uk-flex"],elements:function(){var e=this;return{title:{scope:"breadcrumbs",type:"caption",caption:function(){var t=e.$theme.getActiveTab("leftTab",e),s=e.sections.filter((function(e){return e.name===t}))[0];return s&&e.$trans(s.label)}},submit:{scope:"topmenu-left",type:"button",caption:"Save",class:"uk-button uk-button-primary",on:{click:function(){return e.save()}},priority:0}}}},mounted:function(){this.$ui.tab("leftTab",this.$refs.tab,{connect:this.$refs.content,state:!0})},computed:{sections:function(){var e=[];return _.forIn(this.$options.components,(function(t,s){var a=t.section;a&&(a.name=s,e.push(a))})),_.orderBy(e,"priority")}},methods:{save:function(){this.$trigger("settings-save",this.settings),this.$resource("admin/system/settings/save").save({config:this.settings.config,options:this.settings.options}).then((function(){this.$notify("Settings saved.")}),(function(e){this.$notify(e.data,"danger")}))},get:function(e){return e.replace("-","/")},changed:function(e,t){this.$set(this.settings,t.key,t.data)}},components:{locale:n,system:o,misc:r},events:{"settings-changed":"changed"}},Vue.ready(window.Settings)}]);