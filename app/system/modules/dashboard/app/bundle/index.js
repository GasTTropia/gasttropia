!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e){t.exports=UIkit.util},function(t,e){t.exports=UIkit},function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e){e.compare=function(t,e,i){var s;this.php_js=this.php_js||{},this.php_js.ENV=this.php_js.ENV||{};var n=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},o=function(t){return(t=(t="".concat(t).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?t.split("."):[-8]},r=function(t){return t?isNaN(t)?a[t]||-7:parseInt(t,10):0};t=o(t),e=o(e);var l=Math.max(t.length,e.length);for(s=0;s<l;s++)if(t[s]!==e[s]){if(t[s]=r(t[s]),e[s]=r(e[s]),t[s]<e[s]){n=-1;break}if(t[s]>e[s]){n=1;break}}if(!i)return n;switch(i){case">":case"gt":return n>0;case">=":case"ge":return n>=0;case"<=":case"le":return n<=0;case"==":case"=":case"eq":return 0===n;case"<>":case"!=":case"ne":return 0!==n;case"":case"<":case"lt":return n<0;default:return null}}},function(t,e,i){"use strict";i.r(e);var s=i(2),n=i.n(s),a=i(1),o=i.n(a),r=i(0),l=i(3),c=i.n(l);function u(t,e,i,s,n,a,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var d=u({name:"Panel",inject:["$components"],props:{widget:{type:Object,default:function(){return{}}}},data:function(){return{current:this.widget,editing:!1}},computed:{type:function(){return this.$parent.getType(this.current.type)}},created:function(){_.extend(this.$options.components,this.$components)},methods:{edit:function(){this.$set(this,"editing",!0)},save:function(){this.$parent.save(this.current),this.$set(this,"editing",!1)},remove:function(){this.$root.remove(this.current)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.type.disableToolbar?t._e():i("div",{staticClass:"uk-position-top-right uk-position-small"},[i("ul",{staticClass:"uk-iconnav uk-invisible-hover"},[i("li",{directives:[{name:"show",rawName:"v-show",value:!1!==t.type.editable&&!t.editing,expression:"type.editable !== false && !editing"}]},[i("a",{attrs:{"uk-icon":"file-edit",title:t._f("trans")("Edit"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.edit(e)}}})]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}]},[i("a",{staticClass:"uk-sortable-handle",attrs:{"uk-icon":"more-vertical",title:t._f("trans")("Drag"),"uk-tooltip":"delay: 500"}})]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[i("a",{directives:[{name:"confirm",rawName:"v-confirm",value:"Delete widget?",expression:"'Delete widget?'"}],attrs:{"uk-icon":"trash",title:t._f("trans")("Delete"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[i("a",{attrs:{"uk-icon":"check",title:t._f("trans")("Close"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.save(e)}}})])])]),t._v(" "),i(t.type.component,{tag:"component",attrs:{editing:t.editing},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1)}),[],!1,null,null,null).exports,p={props:["value","editing"],replace:!1,data:function(){return{widget:this.value}},watch:{widget:{handler:function(t){this.$emit("input",t)},deep:!0}}},m=u({name:"Feed",mixins:[p],type:{id:"feed",label:"Feed",description:function(){},defaults:{count:5,url:"http://pagekit.com/blog/feed",content:""}},data:function(){return{status:"",feed:{},head:{title:"",description:""}}},computed:{count:function(){var t=this;if(this.feed.entries)return this.feed.entries.filter((function(e,i){return i<t.widget.count}))}},watch:{"widget.url":function(t){t||this.$parent.edit(!0),this.load()},"widget.count":function(t,e){var i=this.feed.entries;i&&t>e&&t>i.length&&this.load()}},mounted:function(){this.widget.url&&this.load()},methods:{load:function(){this.$set(this,"feed",{}),this.$set(this,"status",""),this.widget.url&&(this.$set(this,"status","loading"),this.$http.get("https://api.rss2json.com/v1/api.json?rss_url=".concat(this.widget.url),{params:{cache:60}}).then((function(t){var e=t.data;if(200===t.status&&e.items&&e.items.length){var i=e.items;i.forEach((function(t){t.publishedDate=new Date(t.pubDate.replace(/\s+/g,"T")),t.contentSnippet=t.description.replace(/<(\/)?p([^>]*)>/g,"<$1p$2>")})),this.feed={entries:i},this.head={title:e.feed.title?e.feed.title:"",description:e.feed.description?e.feed.description:""},this.status="done"}else this.status="error"}),(function(){this.status="error"})))}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.editing?i("div",{staticClass:"uk-card-header pk-panel-teaser"},[i("form",{staticClass:"uk-form-stacked"},[i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-feed-title"}},[t._v(t._s(t._f("trans")("Title")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.title,expression:"widget.title"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-feed-title",type:"text",name:"widget[title]"},domProps:{value:t.widget.title},on:{input:function(e){e.target.composing||t.$set(t.widget,"title",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-feed-url"}},[t._v(t._s(t._f("trans")("URL")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.url,expression:"widget.url"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-feed-url",type:"text",name:"url",lazy:""},domProps:{value:t.widget.url},on:{input:function(e){e.target.composing||t.$set(t.widget,"url",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-feed-count"}},[t._v(t._s(t._f("trans")("Number of Posts")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.widget.count,expression:"widget.count"}],staticClass:"uk-select uk-width-1-1",attrs:{id:"form-feed-count",number:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.widget,"count",e.target.multiple?i:i[0])}}},t._l(10,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v("\n                            "+t._s(e)+"\n                        ")])})),0)])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Post Content")))]),t._v(" "),i("div",{staticClass:"uk-form-controls uk-form-controls-text"},[i("p",{staticClass:"uk-margin-small"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.content,expression:"widget.content"}],staticClass:"uk-radio",attrs:{type:"radio",value:""},domProps:{checked:t._q(t.widget.content,"")},on:{change:function(e){return t.$set(t.widget,"content","")}}}),t._v(" "+t._s(t._f("trans")("Don't show")))])]),t._v(" "),i("p",{staticClass:"uk-margin-small"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.content,expression:"widget.content"}],staticClass:"uk-radio",attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.widget.content,"1")},on:{change:function(e){return t.$set(t.widget,"content","1")}}}),t._v(" "+t._s(t._f("trans")("Show on all posts")))])]),t._v(" "),i("p",{staticClass:"uk-margin-small"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.content,expression:"widget.content"}],staticClass:"uk-radio",attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.widget.content,"2")},on:{change:function(e){return t.$set(t.widget,"content","2")}}}),t._v(" "+t._s(t._f("trans")("Only show on first post.")))])])])])])]):t._e(),t._v(" "),i("div",{staticClass:"uk-card-body"},["loading"!=t.status?i("div",[t.widget.title?i("h3",{staticClass:"uk-h3"},[t._v("\n                "+t._s(t.widget.title)+"\n            ")]):i("div",{staticClass:"uk-margin-bottom"},[!t.widget.title&&t.head.title?i("h3",{staticClass:"uk-h3 uk-margin-remove-bottom"},[t._v("\n                    "+t._s(t.head.title)+"\n                ")]):t._e(),t._v(" "),!t.widget.title&&t.head.title&&t.head.description?i("p",{staticClass:"uk-margin-remove uk-text-small uk-text-meta"},[t._v("\n                    "+t._s(t.head.description)+"\n                ")]):t._e()]),t._v(" "),i("ul",{staticClass:"uk-list uk-list-divider uk-margin-remove"},t._l(t.count,(function(e,s){return i("li",{key:s},[i("a",{attrs:{href:e.link,target:"_blank"},domProps:{innerHTML:t._s(e.title)}}),t._v(" "),i("p",{staticClass:"uk-text-small uk-text-muted uk-text-nowrap uk-margin-remove-top uk-margin-small-bottom"},[t._v("\n                        "+t._s(t._f("relativeDate")(e.publishedDate))+"\n                    ")]),t._v(" "),"1"==t.widget.content?i("div",{staticClass:"uk-margin-small-top uk-text-justify uk-text-small",domProps:{innerHTML:t._s(e.contentSnippet)}}):t._e(),t._v(" "),"2"==t.widget.content?i("div",{staticClass:"uk-margin-small-top uk-text-justify uk-text-small",domProps:{innerHTML:t._s(0==s?e.contentSnippet:"")}}):t._e()])})),0),t._v(" "),"error"==t.status?i("div",[t._v("\n                "+t._s(t._f("trans")("Unable to retrieve feed data."))+"\n            ")]):t._e(),t._v(" "),t.widget.url||t.editing?t._e():i("div",[t._v("\n                "+t._s(t._f("trans")("No URL given."))+"\n            ")])]):i("div",{staticClass:"uk-text-center"},[i("v-loader")],1)])])}),[],!1,null,null,null).exports,f=u({name:"Location",mixins:[p],type:{id:"location",label:"Location",disableToolbar:!0,description:function(){},defaults:{units:"metric"}},data:function(){return{status:"",timezone:{},icon:"",temp:0,time:0,format:"shortTime",gApiResult:""}},computed:{location:function(){return this.widget.city?"".concat(this.widget.city,", ").concat(this.widget.country):""},temperature:function(){return"imperial"!==this.widget.units?"".concat(Math.round(this.temp)," °C"):"".concat(Math.round(1.8*this.temp+32)," °F")}},watch:{"widget.uid":{handler:function(t){void 0===t&&(this.$set(this.widget,"uid",""),this.$parent.save(),this.$parent.edit(!0)),t&&this.load()},immediate:!0},timezone:"updateClock"},mounted:function(){var t,e=this,i=UIkit.autocomplete(this.$refs.autocomplete,{source:function(i){e.$http.get("admin/dashboard/weather",{params:{action:"find",data:{q:this.input.value,type:"like"}}}).then((function(e){var s=e.data;t=s.list||[],i(t)}),(function(){i([])}))},template:'<ul class="uk-nav uk-dropdown-nav uk-autocomplete-results">{{~items}}<li data-id="{{$item.id}}"><a>{{$item.name}} <span>, {{$item.sys.country}}</span></a></li>{{/items}}{{^items.length}}<li class="uk-skip"><a class="uk-text-muted">{{msgNoResults}}</a></li>{{/end}}</ul>',renderer:function(t){Object(r.append)(this.dropdown,this.template({items:t||[],msgNoResults:e.$trans("No location found.")})),this.show()}});Object(r.on)(i.$el,"select",(function(i,s,n){if(n&&n.id){var a=_.find(t,{id:parseInt(n.id)});Vue.nextTick((function(){e.$refs.location.blur()})),a&&(e.$set(e.widget,"uid",a.id),e.$set(e.widget,"city",a.name),e.$set(e.widget,"country",a.sys.country),e.$set(e.widget,"coords",a.coord))}})),this.timer=setInterval(this.updateClock(),6e4)},destroyed:function(){clearInterval(this.timer)},methods:{load:function(){this.widget.uid&&(this.$http.get("admin/dashboard/weather",{params:{action:"weather",data:{id:this.widget.uid,units:"metric"}},cache:60}).then((function(t){var e=t.data;200===e.cod?this.init(e):this.$set(this,"status","error")}),(function(){this.$set(this,"status","error")})),this.$http.get("https://maps.googleapis.com/maps/api/timezone/json",{params:{location:"".concat(this.widget.coords.lat,",").concat(this.widget.coords.lon),timestamp:Math.floor(Date.now()/1e3),key:this.widget.GOOGLE_API_KEY},cache:{key:"timezone-".concat(this.widget.coords.lat).concat(this.widget.coords.lon),lifetime:1440}}).then((function(t){var e=t.data;e.offset=e.rawOffset+e.dstOffset,this.$set(this,"timezone",e)}),(function(){this.$set(this,"status","error")})))},gApiTest:function(){this.gApiResult="process",this.$http.get("https://maps.googleapis.com/maps/api/timezone/json",{params:{location:"".concat(this.widget.coords.lat,",").concat(this.widget.coords.lon),timestamp:Math.floor(Date.now()/1e3),key:this.widget.GOOGLE_API_KEY}}).then((function(t){var e=this,i=t.data;i.offset=i.rawOffset+i.dstOffset,setTimeout((function(){e.gApiResult=i.offset?"success":i.errorMessage,"success"!==e.gApiResult&&console.error(i)}),300)}))},init:function(t){this.$set(this,"temp",t.main.temp),this.$set(this,"icon",this.getIconUrl(t.weather[0].icon)),this.$set(this,"status","done")},getIconUrl:function(t){return this.$url("app/system/modules/dashboard/assets/images/weather-{icon}",{icon:{"01d":"sun.svg","01n":"moon.svg","02d":"cloud-sun.svg","02n":"cloud-moon.svg","03d":"cloud.svg","03n":"cloud.svg","04d":"cloud.svg","04n":"cloud.svg","09d":"drizzle-sun.svg","09n":"drizzle-moon.svg","10d":"rain-sun.svg","10n":"rain-moon.svg","11d":"lightning.svg","11n":"lightning.svg","13d":"snow.svg","13n":"snow.svg","50d":"fog.svg","50n":"fog.svg"}[t]})},updateClock:function(){var t=this.timezone.offset||0,e=new Date,i=t?new Date(e.getTime()+6e4*e.getTimezoneOffset()+1e3*t):new Date;return this.$set(this,"time",i),this.updateClock},clear:function(){this.$refs.location.value=""}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"uk-position-top-right uk-position-small uk-position-z-index"},[i("ul",{staticClass:"uk-iconnav uk-invisible-hover"},[i("li",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"uk-light"},[i("a",{staticClass:"uk-link-muted",attrs:{"uk-icon":"file-edit",title:t._f("trans")("Edit"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.$parent.edit(e)}}})]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"uk-light"},[i("a",{staticClass:"uk-link-muted uk-sortable-handle",attrs:{"uk-icon":"more-vertical",title:t._f("trans")("Drag"),"uk-tooltip":"delay: 500"}})]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[i("a",{directives:[{name:"confirm",rawName:"v-confirm",value:"Delete widget?",expression:"'Delete widget?'"}],attrs:{"uk-icon":"trash",title:t._f("trans")("Delete"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.$parent.remove(e)}}})]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[i("a",{attrs:{"uk-icon":"check",title:t._f("trans")("Close"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.$parent.save(e)}}})])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"uk-card-header pk-panel-teaser"},[i("form",{staticClass:"uk-form-stacked",on:{submit:function(t){t.preventDefault()}}},[i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-city"}},[t._v(t._s(t._f("trans")("Location")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("div",{ref:"autocomplete",staticClass:"uk-autocomplete"},[i("input",{ref:"location",staticClass:"uk-input",attrs:{id:"form-city",type:"text",placeholder:t.location,autocomplete:"off"},on:{blur:t.clear}})])])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Unit")))]),t._v(" "),i("div",{staticClass:"uk-form-controls uk-form-controls-text"},[i("p",{staticClass:"uk-margin-small"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.units,expression:"widget.units"}],staticClass:"uk-radio",attrs:{type:"radio",value:"metric"},domProps:{checked:t._q(t.widget.units,"metric")},on:{change:function(e){return t.$set(t.widget,"units","metric")}}}),t._v(" "+t._s(t._f("trans")("Metric")))])]),t._v(" "),i("p",{staticClass:"uk-margin-small"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.units,expression:"widget.units"}],staticClass:"uk-radio",attrs:{type:"radio",value:"imperial"},domProps:{checked:t._q(t.widget.units,"imperial")},on:{change:function(e){return t.$set(t.widget,"units","imperial")}}}),t._v(" "+t._s(t._f("trans")("Imperial")))])])])]),t._v(" "),i("div",{staticClass:"uk-margin-top"},[i("label",{staticClass:"uk-form-label",attrs:{for:"google-time-api"}},[t._v(t._s(t._f("trans")("Google Time Zone API Key")))]),t._v(" "),i("div",{staticClass:"uk-form-controls uk-form-controls-text"},[i("p",{staticClass:"uk-margin-small"}),i("div",{staticClass:"uk-inline uk-width-expand"},["process"===t.gApiResult?i("div",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-spinner":"",ratio:"0.6"}}):"success"===t.gApiResult?i("div",{staticClass:"uk-form-icon uk-form-icon-flip uk-text-success",attrs:{"uk-icon":"check"}}):i("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-icon":"refresh"},on:{click:function(e){return t.gApiTest()}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.widget.GOOGLE_API_KEY,expression:"widget.GOOGLE_API_KEY"}],staticClass:"uk-input",attrs:{id:"google-time-api"},domProps:{value:t.widget.GOOGLE_API_KEY},on:{input:function(e){e.target.composing||t.$set(t.widget,"GOOGLE_API_KEY",e.target.value)}}})]),t._v(" "),i("p",{staticClass:"uk-text-small uk-margin-remove uk-text-truncate"},["process"===t.gApiResult?i("span",{staticClass:"uk-text-muted"},[t._v(t._s("Checking Google API..."))]):"success"!==t.gApiResult?i("span",{staticClass:"uk-text-danger"},[t._v(t._s(t.gApiResult))]):t._e()]),t._v(" "),t._m(0)])])])]),t._v(" "),"loading"!==t.status?i("div",{staticClass:"uk-inline-clip pk-panel-background uk-light"},[i("canvas",{attrs:{width:"550",height:"350"}}),t._v(" "),i("div",{staticClass:"uk-position-cover"},[i("div",{staticClass:"uk-flex uk-flex-center uk-flex-column uk-height-1-1"},[t.time?i("h1",{staticClass:"uk-margin-remove uk-text-center pk-text-xlarge"},[t._v("\n                    "+t._s(t._f("date")(t.time,t.format))+"\n                ")]):t._e(),t._v(" "),t.time?i("h2",{staticClass:"uk-h4 uk-text-center uk-margin-remove"},[t._v("\n                    "+t._s(t._f("date")(t.time,"longDate"))+"\n                ")]):t._e()]),t._v(" "),i("div",{staticClass:"uk-position-bottom uk-padding-small uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[t.widget.city?i("h3",{staticClass:"uk-h4 uk-margin-remove"},[t._v("\n                    "+t._s(t.widget.city)+"\n                ")]):t._e(),t._v(" "),"done"==t.status?i("h3",{staticClass:"uk-h4 uk-flex uk-flex-middle uk-margin-remove"},[t._v("\n                    "+t._s(t.temperature)+" "),i("img",{staticClass:"uk-margin-small-left",attrs:{src:t.icon,width:"25",height:"25",alt:"Weather"}})]):t._e()])])]):i("div",{staticClass:"uk-text-center"},[i("v-loader")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{staticClass:"uk-float-right",attrs:{width:"100",height:"12.5",alt:"powered_by_Google",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC"}})])}],!1,null,null,null).exports;function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}window.Dashboard={name:"dashboard",mixins:[Theme.Mixins.Helper],el:"#dashboard",provide:function(){return{$components:this.$options.components}},data:function(){return _.extend({editing:{},update:{}},window.$data)},theme:{hideEls:"#dashboard > div:first-child > div:last-child",elements:function(){var t=this;return{addwidget:{scope:"topmenu-left",type:"dropdown",caption:"Add Widget",class:"uk-button uk-button-text",icon:{attrs:{"uk-icon":"triangle-down"}},dropdown:{options:function(){return"mode: click"}},items:function(){return t.getTypes().map((function(e){var i={on:{click:function(){return t.add(e)}},caption:e.label,class:"uk-dropdown-close"};return v(v({},e),i)}))}}}}},created:function(){var t=this;this.Widgets=this.$resource("admin/dashboard{/id}"),this.$set(this,"widgets",this.widgets.filter((function(e,i){return!!t.getType(e.type)&&(e.idx=void 0===e.idx?i:e.idx,e.column=void 0===e.column?0:e.column,!0)}))),this.checkVersion(),Object(r.on)(window,"load",this.load)},computed:{columns:function(){var t=0;return _.groupBy(this.widgets,(function(){return t++%3}))},hasUpdate:function(){return this.update&&c.a.compare(this.update.version,this.version,">")}},methods:{load:function(){var t=this;Object(r.findAll)(".pk-sortable",Object(r.$)(this.$el)).forEach((function(e){var i=o.a.sortable(e,{group:"widgets"});Object(r.on)(i.$el,"added moved removed",(function(e,i,s){var n=e.type;if(n)switch(n){case"added":case"moved":case"removed":var a,l=t.widgets,c=Number.parseInt(o.a.util.data(i.$el,"column"),10),u={};Object(r.each)(Object(r.findAll)("[data-idx]",Object(r.$)(i.$el)),(function(t,e){(a=_.find(l,{id:t.getAttribute("data-id")})).column=c,a.idx=e})),l.forEach((function(t){u[t.id]=t})),t.$http.post("admin/dashboard/savewidgets",{widgets:u}).then((function(t){}))}}))}))},getColumn:function(t){return t=parseInt(t||0,10),_.sortBy(this.widgets.filter((function(e){return e.column===t})),"idx")},add:function(t){var e=0,i=Object(r.findAll)(".uk-sortable[data-column]",Object(r.$)("#dashboard"));i.forEach((function(t,s){e=t.children.length<Object(r.toNodes)(i)[0].children.length?s:e})),this.Widgets.save({widget:_.merge({type:t.id,column:e,idx:100},t.defaults)}).then((function(t){var e=t.data;this.widgets.push(e),this.editing[e.id]=!0}))},save:function(t){var e={widget:t};this.$trigger("widget-save",e),this.Widgets.save({id:t.id},e)},remove:function(t){this.Widgets.delete({id:t.id}).then((function(){this.widgets.splice(_.findIndex(this.widgets,{id:t.id}),1)}))},getType:function(t){return _.find(this.getTypes(),{id:t})},getTypes:function(){var t=[];return _.forIn(this.$options.components,(function(e,i){var s=e.type;s&&(s.component=i,t.push(s))})),t},checkVersion:function(){this.$http.get("".concat(this.api,"/api/update"),{params:{cache:60}}).then((function(t){var e=t.data["nightly"===this.channel?"nightly":"latest"];e&&this.$set(this,"update",e)}))}},components:{panel:d,feed:m,location:f}},Vue.ready(window.Dashboard)}]);